<DockPanel
    x:Class="DefaultApplication.Internal.Plugins.SettingsPlugin.Views.SettingsView"
    x:DataType="viewmodels:SettingsViewModel"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="using:DefaultApplication.Controls.Behaviors"
    xmlns:viewmodels="using:DefaultApplication.Internal.Plugins.SettingsPlugin.ViewModels"
    Margin="5"
    behaviors:ContentDialog.NoneContent="Cancel"
    behaviors:ContentDialog.PrimaryContent="Save"
    behaviors:ContentDialog.Header="Settings">

    <DockPanel Margin="0,0,0,5" DockPanel.Dock="Top">

        <TextBlock
            Margin="0,0,5,0"
            VerticalAlignment="Center"
            Text="search" />

        <TextBox>
            <TextBox.InnerRightContent>
                <PathIcon Margin="5" Data="{StaticResource SettingsPlugin.SearchIcon}" />
            </TextBox.InnerRightContent>
        </TextBox>

    </DockPanel>

    <TreeView
        x:Name="SectionsView"
        DockPanel.Dock="Left"
        ItemsSource="{Binding RootSection.Sections}">
        <TreeView.ItemTemplate>
            <TreeDataTemplate ItemsSource="{Binding Sections}">
                <TextBlock Text="{Binding Header}" />
            </TreeDataTemplate>
        </TreeView.ItemTemplate>
    </TreeView>

    <ItemsControl
        Margin="10,0,0,0"
        Grid.IsSharedSizeScope="True"
        ItemsSource="{Binding #SectionsView.((viewmodels:SectionViewModel)SelectedItem)?.Settings}" />

</DockPanel>
